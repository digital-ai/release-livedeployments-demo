apiVersion: xl-release/v1
kind: Templates
spec:
  - name: Deploy Server Connection
    type: digitalai.DeployServer
    url: !value deployUrl
    username: !value deployUsername
    password: !value deployPassword

---
apiVersion: xl-release/v1
kind: Templates
metadata:
  home: Application Demo
spec:
  - name: Deploy Webhook Endpoint
    type: events.PostWebhookEndpoint
    path: deploy
    authentication:
      type: events.NoAuthentication
  - name: Deploy Deployment Config
    type: deploy.DeploymentConfig
    application: .*
    environment: .*
  - name: Deploy Status Webhook Event Source
    type: deploy.StatusWebhookEventSource
    sourceServer: Deploy Server Connection
    eventSource: Deploy Webhook Endpoint
    liveDeploymentConfigs:
    - Deploy Deployment Config
